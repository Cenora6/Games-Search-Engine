(this["webpackJsonpgames-search-engine"]=this["webpackJsonpgames-search-engine"]||[]).push([[0],{23:function(e,t,a){e.exports=a.p+"static/media/retrowave.dde008c3.mp3"},24:function(e,t,a){e.exports=a.p+"static/media/xmark.a338bc02.svg"},27:function(e,t,a){e.exports=a(52)},51:function(e,t,a){},52:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),c=a(6),r=a.n(c),l=a(3),s=function(e){var t=e.activeSite,a=e.data,n=e.changeWebsite,c=e.gamesPerPage,r=Math.ceil(a.length/c);return a.length<0||a.length<=c?null:1===t?i.a.createElement("button",{type:"button",className:"nes-btn is-warning right",onClick:n},">"):t===r?i.a.createElement("button",{type:"button",className:"nes-btn is-warning left",onClick:n},"<"):i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{type:"button",className:"nes-btn is-warning left",onClick:n},"<"),i.a.createElement("button",{type:"button",className:"nes-btn is-warning right",onClick:n},">"),")")},o=a(54),m=a(53),u=function(e){return i.a.createElement(i.a.Fragment,null,e.filterGames.map((function(t,a){var n=a+4*(e.site-1);return i.a.createElement(o.a,{className:"games__animation",key:a},i.a.createElement(m.a,{key:t.id,timeout:700,classNames:"fade",unmountOnExit:!0},i.a.createElement("div",{id:t.id,className:"games__container nes-container is-rounded is-dark nes-pointer",onClick:e.show,style:"".concat(e.width<768)?e.mobile:e.desktop},i.a.createElement("h2",null,t.name),i.a.createElement("div",{className:" ".concat(e.data.length>0&&"games__container__details")},void 0!==e.image[a]&&i.a.createElement("div",{className:"games__container__details__photos"},i.a.createElement("img",{src:"https://images.igdb.com/igdb/image/upload/t_cover_big/".concat(e.image[n].image_id,".jpg"),alt:a}))))))})))},d=function(e){return i.a.createElement(o.a,{className:"games__animation"},i.a.createElement(m.a,{timeout:700,classNames:"fade",unmountOnExit:!0},i.a.createElement("div",{className:"games__error nes-container is-rounded is-dark nes-pointer",style:"".concat(e.width<768)?e.mobile:e.desktop},i.a.createElement("h2",null,"No results."))))},f=function(e){var t,a=e.data,n=e.image,c=e.loading,r=e.activeSite,l=e.changeWebsite,o=e.handleShowDetails,m=e.width,f=e.height,g={margin:"0 auto",marginTop:"0.5rem"},h={marginTop:"0.5rem"},p=r*(t=f<600?2:f<750?3:4),E=p-t,b=a.slice(E,p);return i.a.createElement("div",{className:"games",style:{opacity:"".concat(0===c?"1":"0")}},0===a.length&&0===c&&i.a.createElement(d,{loading:c,data:a,width:m,mobile:g,desktop:h}),i.a.createElement(u,{site:r,filterGames:b,width:m,data:a,image:n,show:o,mobile:g,desktop:h}),i.a.createElement("div",{className:"games__button"},i.a.createElement(s,{activeSite:r,data:a,changeWebsite:l,gamesPerPage:t})))},g=function(e){var t=e.handleSubmit,a=e.focus,n=e.game,c=e.handleInputChange,r=e.handleFocus,l=e.loading;return i.a.createElement("form",{className:"search",onSubmit:t,autoComplete:"off"},i.a.createElement("label",{htmlFor:"game",className:"search__label"},"Your Games Database"),i.a.createElement("div",{className:"nes-field is-inline search__input"},i.a.createElement("input",{type:"text",id:"games",className:"nes-input ".concat(!1===a?"is-dark":"is-error"," "),placeholder:"".concat(!1===a?"Search for a game...":"Game's name can't be empty..."),value:n,onChange:c,onClick:r})),i.a.createElement("button",{type:"submit",className:"nes-btn is-warning search__button",onSubmit:t,style:{zIndex:"".concat(null!==l?"0":"1")}},"Search"))},h=a(1),p=a(25),E=a(11),b=a.n(E),_="73bfbbt7lhsdb5cilz3nkagmn6cm3g";function v(){b()({url:"".concat("https://game-searching-engine.herokuapp.com/","https://id.twitch.tv/oauth2/token?client_id=").concat(_,"&client_secret=").concat("uuw8hrnz6fcxfd00o9oofjrwo97taq","&grant_type=client_credentials"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}}).then((function(e){var t;(t="Bearer ".concat(e.data.access_token))?w.defaults.headers.common.Authorization=t:delete w.defaults.headers.common.Authorization})).catch((function(e){console.log(e)}))}var w=b.a.create({baseURL:"https://game-searching-engine.herokuapp.com/https://api.igdb.com/v4",method:"POST",headers:{Accept:"application/json","Client-ID":_,"X-Requested-With":"XMLHttpRequest"}});function O(e,t){w({url:"/games/",data:"where id=".concat(e,";\n               fields *;\n               exclude aggregated_rating, aggregated_rating_count, bundles, created_at, dlcs, expansions,\n               external_games, follows, franchise, franchises, keywords,\n               player_perspectives, rating, rating_count, screenshots, similar_games,\n               slug, tags, total_rating, total_rating_count, updated_at, url;")}).then((function(e){var a=e.data[0];t((function(e){return Object(h.a)(Object(h.a)({},e),{},{id:a.id,name:a.name,summary:a.summary})})),a.age_ratings&&function(e,t){var a=[],n=[];e.forEach((function(e){w({url:"/age_ratings/",data:"where id = ".concat(e,";\n               fields category, rating;")}).then((function(e){var t=e.data[0].category;a.push(["ESRB","PEGI"][t-1]);var n=e.data[0].rating;a.push(["rating 3","rating 7","rating 12","rating 16","rating 18","rating RP","rating EC","rating E","rating E10","rating T","rating M","rating A0"][n-1])})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{ageRating:a,ageCategory:n})}))}(a.age_ratings,t),a.alternative_names&&function(e,t){var a=[];e.forEach((function(e){w({url:"/alternative_names/",data:"where id = ".concat(e,";\n                       fields name;")}).then((function(e){a.push(e.data[0].name)})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{alternativeNames:a})}))}(a.alternative_names,t),a.involved_companies&&function(e,t){var a=[];e.forEach((function(e){w({url:"/involved_companies/",method:"POST",data:"where id=".concat(e,";\n                       fields *;")}).then((function(e){w({url:"/companies/",data:"where id=".concat(e.data[0].company,";\n                       fields *;")}).then((function(e){a.push(e.data[0].name)})).catch((function(e){return e}))})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{company:a})}))}(a.involved_companies,t),a.cover&&function(e,t){w({url:"/covers/",data:"where id=".concat(e,";\n                       fields image_id;")}).then((function(e){t((function(t){return Object(h.a)(Object(h.a)({},t),{},{cover:e.data[0].image_id})}))})).catch((function(e){return e}))}(a.cover,t),a.game_modes&&function(e,t){var a=[];e.forEach((function(e){w({url:"/game_modes/",data:"where id=".concat(e,";\n                       fields *;")}).then((function(e){a.push(e.data[0].name)})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{mode:a})}))}(a.game_modes,t),a.genres&&function(e,t){var a=[];e.forEach((function(e){w({url:"/genres/",data:"where id=".concat(e,";\n                       fields *;")}).then((function(e){a.push(e.data[0].name)})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{genre:a})}))}(a.genres,t),a.release_dates&&function(e,t){var a=[];e.forEach((function(e){w({url:"/release_dates/",data:"where id=".concat(e,";\n                       fields *;")}).then((function(e){a.push(e.data[0].y)})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{releaseDate:a})}))}(a.release_dates,t),a.themes&&function(e,t){var a=[];e.forEach((function(e){w({url:"/themes/",method:"POST",data:"where id=".concat(e,";\n                       fields name;")}).then((function(e){a.push(e.data[0].name)})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{themes:a})}))}(a.themes,t),a.websites&&function(e,t){var a=[];e.forEach((function(e){w({url:"/websites/",data:"where id=".concat(e,";\n                       fields url;")}).then((function(e){a.push(e.data[0].url)})).catch((function(e){return e}))})),t((function(e){return Object(h.a)(Object(h.a)({},e),{},{websitesUrl:a})}))}(a.websites,t)})).catch((function(e){return e}))}var y=a(23),k=a.n(y),j=function(e){return i.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",key:e.id},i.a.createElement("i",{className:e.icon,title:e.title}))};function N(e){var t=e.details.websitesUrl;return i.a.createElement("span",{className:"single__details__image__single__websites"},t.map((function(e,t){return-1!==e.indexOf("facebook")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-facebook-f",title:"facebok"}):-1!==e.indexOf("wiki")&&-1===e.indexOf("wikipedia")?i.a.createElement(j,{url:e,id:t,icon:"fas fa-file-alt",title:"wikia"}):-1!==e.indexOf("wikipedia")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-wikipedia-w",title:"wikipedia"}):-1!==e.indexOf("twitter")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-twitter",title:"twitter"}):-1!==e.indexOf("twitch")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-twitch",title:"twitch"}):-1!==e.indexOf("instagram")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-instagram",title:"instagram"}):-1!==e.indexOf("youtube")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-youtube",title:"youtube"}):-1!==e.indexOf("iphone")?i.a.createElement(j,{url:e,id:t,icon:"fas fa-mobile-alt",title:"iphone"}):-1!==e.indexOf("ipad")?i.a.createElement(j,{url:e,id:t,icon:"fas fa-tablet-alt",title:"ipad"}):-1!==e.indexOf("android")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-android",title:"android"}):-1!==e.indexOf("steam")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-steam",title:"steam"}):-1!==e.indexOf("reddit")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-reddit",title:"reddit"}):-1!==e.indexOf("itch")?i.a.createElement(j,{url:e,id:t,icon:"fab fa-itch-io",title:"itch"}):-1!==e.indexOf("epicgames")?i.a.createElement(j,{url:e,id:t,icon:"fas fa-gamepad",title:"epic games"}):-1!==e.indexOf("gog")?i.a.createElement(j,{url:e,id:t,icon:"fas fa-ghost",title:"gog"}):i.a.createElement(j,{url:e,id:t,icon:"fas fa-check-doublee",title:"official"})})))}var x=function(e){return i.a.createElement("div",{className:"text"},i.a.createElement("span",{className:"title"},e.title),e.children)},S=function(e){return i.a.createElement("div",{className:"single__details"},i.a.createElement("div",{className:"single__details__image"},i.a.createElement("div",{className:"single__details__image__single"},e.details.cover&&i.a.createElement("img",{src:"https://images.igdb.com/igdb/image/upload/t_cover_big/".concat(e.details.cover,".jpg"),alt:"game_cover"}),e.details.websitesUrl&&i.a.createElement(N,{details:e.details})),i.a.createElement("div",{className:"single__details__image__age"},e.details.alternativeNames&&i.a.createElement(x,{title:"Alternative names:"},i.a.createElement("p",null,e.details.alternativeNames.map((function(e,t){return i.a.createElement("span",{key:t},e," | ")})))),e.details.ageCategory&&e.details.ageRating&&i.a.createElement("div",{className:"age_rating"},i.a.createElement(x,{title:"Age Rating:"},i.a.createElement("p",null,e.details.ageCategory.map((function(e,t){return i.a.createElement("span",{key:t},e)}))),i.a.createElement("p",null,e.details.ageRating.map((function(e,t){return i.a.createElement("span",{key:t},e,"  ")}))))),e.details.company&&i.a.createElement(x,{title:"Company:"},i.a.createElement("p",null,e.details.company.map((function(e,t){return i.a.createElement("span",{key:t},e," | ")})))),e.details.mode&&i.a.createElement(x,{title:"Mode:"},i.a.createElement("p",null,e.details.mode.map((function(e,t){return i.a.createElement("span",{key:t},e," | ")})))),e.details.genre&&i.a.createElement(x,{title:"Genre:"},i.a.createElement("p",null,e.details.genre.map((function(e,t){return i.a.createElement("span",{key:t},e," | ")})))),e.details.releaseDate&&i.a.createElement(x,{title:"Release year:"},i.a.createElement("p",null,i.a.createElement("span",null,void 0!==e.details.releaseDate[0]?e.details.releaseDate[0]:"-"))),e.details.themes&&i.a.createElement(x,{title:"Themes:"},i.a.createElement("p",null,e.details.themes.map((function(e,t){return i.a.createElement("span",{key:t},e," | ")})))))),i.a.createElement("div",{className:"single__details__text"},i.a.createElement("span",{className:"title"},"Summary:"),i.a.createElement("p",null," ",void 0!==e.details.summary?e.details.summary:"-")))},C=a(24),D=a.n(C),T=function(e){return i.a.createElement("div",{className:"single__title"},i.a.createElement("h2",null,e.details.name),i.a.createElement("img",{className:"nes-avatar nes-pointer",alt:"exit singleDetail",src:D.a,style:{imageRendering:"pixelated"},onClick:e.close}))};var R=function(e){var t=e.showDetails,a=e.details,n=e.handleCloseDetails;return i.a.createElement(o.a,{className:"animation"},i.a.createElement(m.a,{in:t,timeout:700,classNames:"fade",key:t},i.a.createElement("section",{className:"single nes-container is-rounded is-dark",style:{display:"".concat(t?"flex":"none")}},i.a.createElement(T,{details:a,close:n}),i.a.createElement(S,{details:a}))))};var P=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(!1),s=Object(l.a)(r,2),o=s[0],m=s[1],u=Object(n.useState)([]),d=Object(l.a)(u,2),h=d[0],E=d[1],b=Object(n.useState)([]),_=Object(l.a)(b,2),y=_[0],j=_[1],N=Object(n.useState)(null),x=Object(l.a)(N,2),S=x[0],C=x[1],D=Object(n.useState)(1),T=Object(l.a)(D,2),P=T[0],W=T[1],z=Object(n.useState)(!1),A=Object(l.a)(z,2),L=A[0],F=A[1],G=Object(n.useState)({}),I=Object(l.a)(G,2),q=I[0],M=I[1],B=Object(n.useState)(window.innerWidth),H=Object(l.a)(B,2),U=H[0],X=H[1],J=Object(n.useState)(window.innerHeight),Y=Object(l.a)(J,2),$=Y[0],K=Y[1];return Object(n.useEffect)((function(){var e=function(){X(window.innerWidth),K(window.innerHeight)};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(n.useEffect)((function(){v()}),[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("section",{className:"background ".concat(S&&"blur")},i.a.createElement("div",{className:"background__loading",style:{display:"".concat(S?"flex":"none")}},i.a.createElement("div",{className:"background__loading__text"},i.a.createElement("p",null,"Loading"),i.a.createElement("span",null,"."),i.a.createElement("span",null,"."),i.a.createElement("span",null,".")),i.a.createElement("i",{className:"nes-icon is-large star ".concat(1===S&&"is-transparent"," ").concat(2===S&&"is-half")})),i.a.createElement("audio",{src:k.a,autoPlay:!0,loop:!0}),i.a.createElement(g,{handleSubmit:function(e){e.preventDefault(),0===a.length?m(!0)&&C(0):C(1),0!==a.length&&function(e,t,a,n,i,c,r){w({url:"/games/",data:'search "'.concat(e,'";\n               fields id,name,cover;\n               limit 20;\n               where cover != n;')}).then((function(e){0===e.data.length&&(r(2),setTimeout((function(){r(3)}),1e3),setTimeout((function(){r(0)}),2e3)),r(2),c(""),a(e.data);var t=[];e.data.forEach((function(a){w({url:"/covers/",data:"where id=".concat(a.cover,";\n                       fields image_id;")}).then((function(a){(t=[].concat(Object(p.a)(t),[a.data[0]])).length===e.data.length&&r(3),i(t),setTimeout((function(){r(0)}),2e3)})).catch((function(e){return e}))}))})).catch((function(e){return e}))}(a,0,E,0,j,c,C)},focus:o,game:a,handleInputChange:function(e){c(e.target.value)},handleFocus:function(){m(!1),C(null),W(1),F(!1),E([]),M({})},loading:S}),i.a.createElement(f,{data:h,image:y,loading:S,activeSite:P,setActiveSite:W,changeWebsite:function(e){e.target.classList.contains("right")?W(P+1):W(P-1)},handleShowDetails:function(e){O(e.currentTarget.id,M),C(1),setTimeout((function(){C(2)}),2e3),setTimeout((function(){F(!0),C(null)}),3e3)},width:U,height:$}),i.a.createElement(R,{showDetails:L,details:q,handleCloseDetails:function(){M({}),F(!1),C(0)}})))};a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.25675dc6.chunk.js.map